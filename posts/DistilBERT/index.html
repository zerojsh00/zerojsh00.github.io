<!DOCTYPE html><html lang="ko" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="(NLP) DistilBERT ë¦¬ë·° ë° ì„¤ëª…" /><meta name="author" content="simon sanghyeon" /><meta property="og:locale" content="ko" /><meta name="description" content="ì´ í¬ìŠ¤íŠ¸ëŠ” ê°œì¸ì ìœ¼ë¡œ ê³µë¶€í•œ ë‚´ìš©ì„ ì •ë¦¬í•˜ê³  í•„ìš”í•œ ë¶„ë“¤ì—ê²Œ ì§€ì‹ì„ ê³µìœ í•˜ê¸° ìœ„í•´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì§€ì í•˜ì‹¤ ë‚´ìš©ì´ ìˆë‹¤ë©´, ì–¸ì œë“  ëŒ“ê¸€ ë˜ëŠ” ë©”ì¼ë¡œ ì•Œë ¤ì£¼ì‹œê¸°ë¥¼ ë°”ëë‹ˆë‹¤." /><meta property="og:description" content="ì´ í¬ìŠ¤íŠ¸ëŠ” ê°œì¸ì ìœ¼ë¡œ ê³µë¶€í•œ ë‚´ìš©ì„ ì •ë¦¬í•˜ê³  í•„ìš”í•œ ë¶„ë“¤ì—ê²Œ ì§€ì‹ì„ ê³µìœ í•˜ê¸° ìœ„í•´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì§€ì í•˜ì‹¤ ë‚´ìš©ì´ ìˆë‹¤ë©´, ì–¸ì œë“  ëŒ“ê¸€ ë˜ëŠ” ë©”ì¼ë¡œ ì•Œë ¤ì£¼ì‹œê¸°ë¥¼ ë°”ëë‹ˆë‹¤." /><link rel="canonical" href="https://zerojsh00.github.io/posts/DistilBERT/" /><meta property="og:url" content="https://zerojsh00.github.io/posts/DistilBERT/" /><meta property="og:site_name" content="Simonâ€™s Research Center" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-02-20T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="(NLP) DistilBERT ë¦¬ë·° ë° ì„¤ëª…" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@simon sanghyeon" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"simon sanghyeon"},"dateModified":"2023-02-20T00:00:00+09:00","datePublished":"2023-02-20T00:00:00+09:00","description":"ì´ í¬ìŠ¤íŠ¸ëŠ” ê°œì¸ì ìœ¼ë¡œ ê³µë¶€í•œ ë‚´ìš©ì„ ì •ë¦¬í•˜ê³  í•„ìš”í•œ ë¶„ë“¤ì—ê²Œ ì§€ì‹ì„ ê³µìœ í•˜ê¸° ìœ„í•´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì§€ì í•˜ì‹¤ ë‚´ìš©ì´ ìˆë‹¤ë©´, ì–¸ì œë“  ëŒ“ê¸€ ë˜ëŠ” ë©”ì¼ë¡œ ì•Œë ¤ì£¼ì‹œê¸°ë¥¼ ë°”ëë‹ˆë‹¤.","headline":"(NLP) DistilBERT ë¦¬ë·° ë° ì„¤ëª…","mainEntityOfPage":{"@type":"WebPage","@id":"https://zerojsh00.github.io/posts/DistilBERT/"},"url":"https://zerojsh00.github.io/posts/DistilBERT/"}</script><title>(NLP) DistilBERT ë¦¬ë·° ë° ì„¤ëª… | Simon's Research Center</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Simon's Research Center"><meta name="application-name" content="Simon's Research Center"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script> <script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "AMS" } }, tex2jax: { inlineMath: [ ['$', '$'] ], displayMath: [ ['$$', '$$'] ], processEscapes: true, } }); MathJax.Hub.Register.MessageHook("Math Processing Error",function (message) { alert("Math Processing Error: "+message[1]); }); MathJax.Hub.Register.MessageHook("TeX Jax - parse error",function (message) { alert("Math Processing Error: "+message[1]); }); </script> <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"> </script><meta name="google-site-verification" content="J_a4XJ2oefe52p6EYvjTFdh9LW5Yc5RyGg1HpQOjWaA" /><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/avatar.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Simon's Research Center</a></div><div class="site-subtitle font-italic">ì„±ì¥í•˜ëŠ” ì—°êµ¬ì›ì˜ ê³µì±…</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/zerojsh00" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['zerojsh00','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>(NLP) DistilBERT ë¦¬ë·° ë° ì„¤ëª…</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>(NLP) DistilBERT ë¦¬ë·° ë° ì„¤ëª…</h1><div class="post-meta text-muted"><div> By <em> Sanghyeon </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1676818800" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2023-02-20 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2850 words"> <em>15 min</em> read</span></div></div></div><div class="post-content"><p>ì´ í¬ìŠ¤íŠ¸ëŠ” ê°œì¸ì ìœ¼ë¡œ ê³µë¶€í•œ ë‚´ìš©ì„ ì •ë¦¬í•˜ê³  í•„ìš”í•œ ë¶„ë“¤ì—ê²Œ ì§€ì‹ì„ ê³µìœ í•˜ê¸° ìœ„í•´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì§€ì í•˜ì‹¤ ë‚´ìš©ì´ ìˆë‹¤ë©´, ì–¸ì œë“  ëŒ“ê¸€ ë˜ëŠ” ë©”ì¼ë¡œ ì•Œë ¤ì£¼ì‹œê¸°ë¥¼ ë°”ëë‹ˆë‹¤.</p><hr /><h1 id="01-introduction">01. Introduction</h1><hr /><p>2018ë…„, ìì—°ì–´ì²˜ë¦¬ ì˜ì—­ì˜ ìœ„ëŒ€í•œ í•œ íšì„ ê·¸ì€ BERTë¥¼ ëŒ€í‘œë¡œí•˜ì—¬, ìì—°ì–´ì²˜ë¦¬ ì˜ì—­ì€ ëŒ€ê·œëª¨ì˜ ì‚¬ì „í•™ìŠµ ì–¸ì–´ëª¨ë¸(large-scale pre-trained langauge models)ì„ í™œìš©í•œ ì „ì´í•™ìŠµ(transfer learning) ë°©ì‹ì´ ì£¼ë¥¼ ì´ë£¨ê³  ìˆë‹¤. ë‹¹ì—°í•˜ê²Œë„ ì–¸ì–´ëª¨ë¸ì´ ì»¤ì§ˆìˆ˜ë¡ ë§ì€ íŒŒë¼ë¯¸í„°ë“¤ì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©°, ê·¸ì— ë”°ë¼ í›Œë¥­í•œ ì„±ëŠ¥ì„ ë‹¬ì„±í•  ìˆ˜ ìˆê²Œ ëœë‹¤.</p><h2 id="01-1-ê±°ëŒ€-ì–¸ì–´ëª¨ë¸ì˜-ë§¹ì "><span class="mr-2">01-1. ê±°ëŒ€ ì–¸ì–´ëª¨ë¸ì˜ ë§¹ì </span><a href="#01-1-ê±°ëŒ€-ì–¸ì–´ëª¨ë¸ì˜-ë§¹ì " class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 500 500'%3E%3C/svg%3E" data-src="/assets/img/2023-02-20-DistilBERT/fig01.png" alt="fig01" width="500" height="500" data-proofer-ignore> <em>[ì¶œì²˜] ì› ë…¼ë¬¸ : DistilBERT, a distilled version of BERT: smaller, faster, cheaper and lighter</em></p><p>ìš°ì„ , ì£¼ìš” ì–¸ì–´ëª¨ë¸ë“¤ì˜ íŒŒë¼ë¯¸í„°ì™€ ì´ì— ëŒ€í•œ ì‚¬ì „í•™ìŠµ ë¹„ìš©ì„ ê°€ë³ê²Œ ì‚´í´ë³´ì.</p><p>ì´ì œëŠ” êµ­ë¯¼ ì–¸ì–´ëª¨ë¸ì´ ëœ BERTë¥¼ ë¨¼ì € ë³´ì. <code class="language-plaintext highlighter-rouge">BERT-baseëŠ” ì•½ 110,000,000(1ì–µ 1ì²œë§Œ)ê°œì˜ íŒŒë¼ë¯¸í„°</code>ë¥¼, <code class="language-plaintext highlighter-rouge">BERT-largeëŠ” ì•½ 340,000,000(3ì–µ 4ì²œë§Œ)ê°œì˜ íŒŒë¼ë¯¸í„°</code>ë¥¼ ê°€ì§€ê³  ìˆë‹¤. Google researchì— ë”°ë¥´ë©´, BERT-largeë¥¼ ì‚¬ì „í•™ìŠµ í•˜ëŠ” ë° 16ê°œì˜ Cloud TPUë¡œ 4ì¼ì´ ê¼¬ë°• ê±¸ë ¸ë‹¤ê³  í•œë‹¤. Cloud TPU v2ë¡œ ê°€ì •í–ˆì„ ë•Œ, 16(TPU ìˆ˜) * 4(í•™ìŠµ ì¼) * 24(ì‹œê°„) * 4.5(ì‹œê°„ ë‹¹ US$) = $6,912ë¡œ ê³„ì‚°ëœë‹¤. <strong>ì¦‰, BERT-largeì˜ ì‚¬ì „í•™ìŠµ ë¹„ìš©ì„ ì›í™”ë¡œ í™˜ì‚°í•˜ë©´ ëŒ€ëµ 890ë§Œ ì› ì •ë„ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.</strong></p><p>ìƒì„± ëª¨ë¸ì¸ GPT-2ëŠ” ì–´ë–¨ê¹Œ? <code class="language-plaintext highlighter-rouge">GPT-2ëŠ” ì•½ 1,500,000,000(15ì–µ)ê°œì˜ íŒŒë¼ë¯¸í„°</code>ë¥¼ ê°€ì§€ê³  ìˆë‹¤. <a href="https://www.theregister.com/2019/02/14/open_ai_language_bot/">The Register</a>ì— ë”°ë¥´ë©´, GPT-2ì˜ í•™ìŠµì—ëŠ” ì‹œê°„ ë‹¹ $256 ë§Œí¼ ì†Œìš”ë˜ëŠ” 256ê°œì˜ Google Cloud TPU v3 coresë¥¼ ì‚¬ìš©í–ˆë‹¤ê³  í•œë‹¤. <strong>$256ë¥¼ ì–´ë¦¼ ì¡ì•„ ì›í™” 33ë§Œ ì›ìœ¼ë¡œ ê³„ì‚°í•œë‹¤ê³  í–ˆì„ ë•Œ, í•˜ë£¨ì— 792ë§Œ ì› ê°€ëŸ‰ìœ¼ë¡œ ê³„ì‚°ë˜ëŠ”ë°, ë†€ë¼ìš´ ì ì€ GPT-2ë¥¼ ê°œë°œí•œ OpenAIëŠ” ì‚¬ì „í•™ìŠµì— ì†Œìš”ëœ ì‹œê°„ì„ ê³µê°œí•˜ì§€ì¡°ì°¨ë„ ì•Šì•˜ë‹¤.</strong></p><p>ì´í›„ ë‚˜ì˜¨ <code class="language-plaintext highlighter-rouge">GPT-3ì™€ í˜„ì¬ í™”ë‘ê°€ ë˜ê³  ìˆëŠ” ChatGPTì˜ ê²½ìš°, 175,000,000,000(1750ì–µ)ê°œì˜ íŒŒë¼ë¯¸í„°</code>ë¥¼ ê°€ì§€ê³  ìˆë‹¤. ì•ì„œ ì‚´í´ë³¸ ëª¨ë¸ê³¼ ë‹¨ìˆœ ë¹„êµë§Œ í•˜ë”ë¼ë„ ì‹¤ë¡œ ì—„ì²­ë‚œ ê·œëª¨ì´ë‹¤. ì°¸ê³ ë¡œ GPT-3ë¥¼ í•™ìŠµí•˜ëŠ” ë° ì•½ 1200ë§Œ ë‹¬ëŸ¬, ì¦‰, 150ì–µ ì› ì •ë„ê°€ ì†Œìš”ë˜ì—ˆë‹¤.</p><h2 id="01-2-distilbertì˜-ë“±ì¥-ë°°ê²½"><span class="mr-2">01-2. DistilBERTì˜ ë“±ì¥ ë°°ê²½</span><a href="#01-2-distilbertì˜-ë“±ì¥-ë°°ê²½" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>ìœ„ì™€ ê°™ì´ DistilBERTì˜ ë“±ì¥ ì´í›„ì—ë„ ì—¬ì „íˆ ì–¸ì–´ëª¨ë¸ì€ ì¼ë°˜ ê¸°ì—…ë“¤ì€ ì†ëŒ€ì§€ë„ ëª» í•  ì •ë„ì˜ ì´ˆê±°ëŒ€ ëª¨ë¸ë¡œ ê°œë°œë˜ê³  ìˆë‹¤. ì§€ê¸ˆë„ ì—¬ì „í•œ ë¬¸ì œì´ê¸°ë„ í•œ ì–¸ì–´ëª¨ë¸ì˜ ê±°ëŒ€í™”ëŠ” DistilBERTì˜ ë“±ì¥ ë°°ê²½ì´ê¸°ë„ í•˜ë‹¤. ì´ì™€ í•¨ê»˜ ë…¼ë¬¸ì—ì„œ ì–¸ê¸‰í•œ ë‚´ìš©ë“¤ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p><ul><li>ê±°ëŒ€ ì–¸ì–´ëª¨ë¸ì„ í•™ìŠµí•˜ê¸° ìœ„í•œ ì—°ì‚°ì—ëŠ” ìƒë‹¹í•œ carbon footprint, ì¦‰, í™˜ê²½ ë¹„ìš©(environmental cost)ì´ ì†Œìš”ë¨<li>ê±°ëŒ€ ì–¸ì–´ëª¨ë¸ì˜ ì—°ì‚°ê³¼ ë©”ëª¨ë¦¬ ì†Œìš” ë“±ì„ ê³ ë ¤í–ˆì„ ë•Œ, ë””ë°”ì´ìŠ¤ ìƒì—ì„œ ì‹¤ì‹œê°„ìœ¼ë¡œ ì‚¬ìš©ë˜ê¸° ì–´ë ¤ì›€</ul><p>ë”°ë¼ì„œ ë³¸ ë…¼ë¬¸ì€ <code class="language-plaintext highlighter-rouge">ì§€ì‹ ì¦ë¥˜(knowledge distillation)</code> ê¸°ë²•ì„ í™œìš©í•˜ì—¬ ê±°ëŒ€ ì–¸ì–´ëª¨ë¸ì¸ BERT(ì˜¤ëŠ˜ë‚ ì—ëŠ” BERTë¥¼ ê±°ëŒ€ ëª¨ë¸ë¡œ ì¹˜ì§€ ì•Šê² ì§€ë§Œâ€¦)ë¥¼ ê²½ëŸ‰í™” í•˜ëŠ” ë°©ì‹ì„ ì œì‹œí•œë‹¤.</p><h1 id="02-ì§€ì‹-ì¦ë¥˜-knowledge-distillation">02. ì§€ì‹ ì¦ë¥˜ (Knowledge Distillation)</h1><hr /><p><code class="language-plaintext highlighter-rouge">ì§€ì‹ ì¦ë¥˜(knowledge distillation)</code>ë€, ì´ë¯¸ ì‚¬ì „í•™ìŠµ ë˜ì–´ìˆëŠ” ëŒ€ê·œëª¨ ëª¨ë¸ì¸ <code class="language-plaintext highlighter-rouge">teacher</code>ë¡œë¶€í„° ê²½ëŸ‰í™”ëœ ì••ì¶• ëª¨ë¸ì¸ <code class="language-plaintext highlighter-rouge">student</code>ë¡œ AIì˜ ì§€ì‹ì„ ë‚˜ëˆ„ì–´ ì£¼ëŠ” ê°œë…ì´ë‹¤. <code class="language-plaintext highlighter-rouge">ì¦ë¥˜(distillation)</code>ë¼ëŠ” ë‹¨ì–´ê°€ ì•¡ì²´ í˜¼í•©ë¬¼ì„ ê°€ì—´í•˜ì—¬ ì•¡ì²´ í˜¼í•©ë¬¼ì„ ë¶„ë¦¬í•˜ëŠ” ê³¼ì •ì„ ì˜ë¯¸í•œë‹¤ëŠ” ì ì„ ìƒê°í•˜ë©´ ê·¸ ëœ»ì´ ì‰½ê²Œ ì™€ë‹¿ëŠ”ë‹¤.</p><p>ì‚¬ì‹¤ ì§€ì‹ ì¦ë¥˜ì—ë„ ë‹¤ì–‘í•œ ë°©ì‹ì´ ìˆê² ìœ¼ë‚˜, ë³¸ ë…¼ë¬¸ì—ì„œëŠ” <a href="https://arxiv.org/abs/1503.02531">Geoffrey Hintonì˜ Softmax Temperature</a>ë¥¼ ì´ìš©í•˜ì˜€ë‹¤.</p><h2 id="02-1-softmax-temperature"><span class="mr-2">02-1. Softmax Temperature</span><a href="#02-1-softmax-temperature" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="ê¸°ë³¸-softmaxì˜-í•œê³„"><span class="mr-2">ê¸°ë³¸ Softmaxì˜ í•œê³„</span><a href="#ê¸°ë³¸-softmaxì˜-í•œê³„" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 500 500'%3E%3C/svg%3E" data-src="/assets/img/2023-02-20-DistilBERT/fig02.png" alt="fig02" width="500" height="500" data-proofer-ignore> <em>[ì¶œì²˜] : <a href="https://hackernoon.com/softmax-temperature-and-prediction-diversity">Softmax Temperature and Prediction Diversity</a></em></p><p>ì¼ë°˜ì ì¸ ì§€ë„í•™ìŠµì˜ ë¶„ë¥˜ ëª¨ë¸ì€ ëª¨ë¸ì˜ ì˜ˆì¸¡ ê²°ê³¼(logit)ì— softmaxë¥¼ ì·¨í•œ ë¶„í¬ì™€ ì› í•« ì¸ì½”ë”© ëœ ì •ë‹µì˜ ë¶„í¬ ê°„ì˜ í¬ë¡œìŠ¤ ì—”íŠ¸ë¡œí”¼ ë¡œìŠ¤ë¥¼ ìµœì†Œí™” í•œë‹¤. ì´ì— ë”°ë¼ ì˜ í•™ìŠµëœ ëª¨ë¸ì€ ì •ë‹µ í´ë˜ìŠ¤ì— ëŒ€í•´ì„œëŠ” ë†’ì€ í™•ë¥ ë¡œ ë¶„ë¥˜í•´ ë‚¼ ê²ƒì´ê³ , ì˜¤ë‹µ í´ë˜ìŠ¤ì— ëŒ€í•´ì„œëŠ” <code class="language-plaintext highlighter-rouge">0ì— ê°€ê¹Œìš´ ê°’(near-zero)</code>ì„ ë³´ì¼ ê²ƒì´ë‹¤.</p><p>í•˜ì§€ë§Œ, ê°™ì€ non-zeroì˜ ì˜¤ë‹µ í´ë˜ìŠ¤ë¼ í•˜ë”ë¼ë„ ì–´ë–¤ í´ë˜ìŠ¤ëŠ” ì¡°ê¸ˆì´ë‚˜ë§ˆ ë” ì •ë‹µ í´ë˜ìŠ¤ì™€ ìœ ì‚¬í•  ê²ƒì´ë‹¤. ê·¹ë‹¨ì ì¸ ì˜ˆë¥¼ ë“¤ë©´, <code class="language-plaintext highlighter-rouge">ë°”ë‘‘ì´</code>ë¥¼ ë¶„ë¥˜í•˜ëŠ” íƒœìŠ¤í¬ì—ì„œ <code class="language-plaintext highlighter-rouge">ë©ë©ì´</code>ë¼ëŠ” ì˜¤ë‹µì´ <code class="language-plaintext highlighter-rouge">ìŠ¤íŒŒê²Œí‹°</code>ë¼ëŠ” ì˜¤ë‹µë³´ë‹¤ ë” ê°•ì•„ì§€ì™€ ìœ ì‚¬í•˜ì§€ ì•Šì€ê°€? ì—¬ê¸°ì„œ â€˜ë©ë©ì´â€™ì™€ ê°™ì€ ì§€ì‹ì„ <code class="language-plaintext highlighter-rouge">ì•”í‘ ì§€ì‹(dark knowledge)</code>ë¼ê³  í•œë‹¤. softmaxë¡œ ì˜ í•™ìŠµëœ ë¶„ë¥˜ê¸°ëŠ” ë°”ë‘‘ì´ì— ëŒ€í•´ì„œëŠ” 0.99ì— ê°€ê¹Œìš´ í™•ë¥ ë¡œ ì •ë‹µìœ¼ë¡œ ë¶„ë¥˜ë¥¼ í•˜ê³ , ë©ë©ì´ì— ëŒ€í•´ì„œëŠ” 0.000â€¦1ì— ê°€ê¹Œìš´ í™•ë¥ ë¡œ ì˜¤ë‹µìœ¼ë¡œ ë¶„ë¥˜í•  ê²ƒì´ë‹¤. ë¬´ì–¸ê°€ ì™„ë²½í•´ë³´ì´ì§€ ì•ŠëŠ”ë‹¤. <strong>ì¦‰, ë‹¨ìˆœí•œ softmaxëŠ” ì—”íŠ¸ë¡œí”¼ê°€ ë‚®ë‹¤!</strong></p><h3 id="softmaxì—-ëœë¤ì„±ì„-ë”í•œ-temperature-scaling"><span class="mr-2">Softmaxì— ëœë¤ì„±ì„ ë”í•œ Temperature Scaling</span><a href="#softmaxì—-ëœë¤ì„±ì„-ë”í•œ-temperature-scaling" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 500 500'%3E%3C/svg%3E" data-src="/assets/img/2023-02-20-DistilBERT/fig03.png" alt="fig03" width="500" height="500" data-proofer-ignore> <em>[ì¶œì²˜] : <a href="https://hackernoon.com/softmax-temperature-and-prediction-diversity">Softmax Temperature and Prediction Diversity</a></em></p><p>ìœ„ì™€ ê°™ì€ softmax í•¨ìˆ˜ì˜ í•œê³„ì— ëŒ€í•œ í•´ê²° ë°©ë²•ì´ ë°”ë¡œ <code class="language-plaintext highlighter-rouge">temperature scaling</code>ìœ¼ë¡œ, ëª¨ë¸ì˜ ì˜ˆì¸¡ ê²°ê³¼ì¸ logit ë²¡í„°ë¥¼ temperature ê°’ $T$ë§Œí¼ ë‚˜ëˆ„ì–´ì£¼ëŠ” softmax ë°©ì‹ì´ë‹¤.</p><p>ì´ë¥¼ ìˆ˜ì‹ìœ¼ë¡œ í‘œí˜„í•˜ë©´ $\cfrac{\exp{(z_i / T)}}{\sum_j \exp{(z_j / T)}}$ì™€ ê°™ë‹¤. ì¦‰, temperature $T=1$ ì¼ ê²½ìš° softmaxì™€ ê°™ì•„ì§€ëŠ” êµ¬ì¡°ì´ë©°, temperature $T \to \infty$ ì¼ ê²½ìš° uniform distributionì„ ê°€ì§„ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ $T$ëŠ” 1~20 ì •ë„ì˜ ê°’ì„ ì‚¬ìš©í•œë‹¤ê³  í•œë‹¤.</p><p>ì´ì²˜ëŸ¼ í•™ìŠµ ì‹œ temperature scalingì„ ì ìš©í•œ í™•ë¥ ì„ <code class="language-plaintext highlighter-rouge">soft target probability</code>ë¼ê³  í•œë‹¤. í•™ìŠµì„ ë§ˆì¹œ í›„ ì¶”ë¡  ì‹œì—ëŠ” scalingì„ í•˜ì§€ ì•Šê³ , $T=1$ì¸ ê¸°ë³¸ softmaxë¥¼ ì‚¬ìš©í•œë‹¤. ì´ëŸ¬í•œ ë°©ì‹ì€ generalizationì— íš¨ê³¼ì ì´ì–´ì„œ í…ŒìŠ¤íŠ¸ ë°ì´í„°ì…‹ì— ëŒ€í•´ ë”ìš± ì¢‹ì€ ì„±ëŠ¥ì„ ë³´ì¸ë‹¤ê³  ì•Œë ¤ì ¸ ìˆë‹¤.</p><h2 id="02-2-training-loss"><span class="mr-2">02-2. Training Loss</span><a href="#02-2-training-loss" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><img data-src="/assets/img/2023-02-20-DistilBERT/fig04.png" alt="fig04" data-proofer-ignore> <em>[ì¶œì²˜] : <a href="https://alexnim.com/coding-projects-knowledge-distillation.html">Knowledge Distillation of Language Models</a></em></p><p>DistilBERTë¥¼ í•™ìŠµí•˜ê¸° ìœ„í•´ì„œëŠ” <code class="language-plaintext highlighter-rouge">Teacher - Student Cross Entropy (Distillation Loss)</code>, <code class="language-plaintext highlighter-rouge">Student Masked Language Modeling Loss (MLM Loss)</code>, ê·¸ë¦¬ê³  <code class="language-plaintext highlighter-rouge">Teacher - Student Cosine Embedding Loss</code>ì„ í™œìš©í•˜ì—¬ í•™ìŠµí•œë‹¤. ìš°ì„ , downstream íƒœìŠ¤í¬ê°€ ì•„ë‹ˆë¯€ë¡œ, <code class="language-plaintext highlighter-rouge">[MASK]</code>ë¥¼ ì˜ˆì¸¡í•˜ëŠ” í•™ìŠµì„ ìˆ˜í–‰í•˜ëŠ” ì ì„ ì—¼ë‘ì— ë‘ì.</p><h3 id="loss-1--teacher---student-cross-entropy-distillation-loss"><span class="mr-2">Loss 1 : Teacher - Student Cross Entropy (Distillation Loss)</span><a href="#loss-1--teacher---student-cross-entropy-distillation-loss" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>ë¨¼ì €, ì‚¬ì „í•™ìŠµ ëœ teacherì˜ logitì— ëŒ€í•´ temperature scalingì´ ì ìš©ëœ softmaxë¥¼ ì·¨í•˜ì—¬ <code class="language-plaintext highlighter-rouge">[MASK]</code>ì— ëŒ€í•œ <code class="language-plaintext highlighter-rouge">soft target label</code>ë¡œ ì‚¼ëŠ”ë‹¤. ì´í›„ ì‚¬ì „í•™ìŠµì„ ì§„í–‰í•  studentì˜ logitì— ëŒ€í•´ì„œë„ temperature scalingì´ ì ìš©ëœ softmaxë¥¼ ì·¨í•˜ì—¬ ë‚˜ì˜¨ <code class="language-plaintext highlighter-rouge">[MASK]</code>ì— ëŒ€í•œ ì˜ˆì¸¡ê°’ì„ êµ¬í•˜ê³ , ì˜ˆì¸¡ê°’ê³¼ soft target label ê°„ì˜ í¬ë¡œìŠ¤ ì—”íŠ¸ë¡œí”¼ ë¡œìŠ¤ë¥¼ êµ¬í•œë‹¤. ì´ë¥¼ <code class="language-plaintext highlighter-rouge">distillation loss</code>ë¼ í•œë‹¤. ì¦‰, student ëª¨ë¸ì´ teacher ëª¨ë¸ì´ ê°€ì§€ê³  ìˆëŠ” ì§€ì‹ì„ ì „ìˆ˜ë°›ëŠ” ê³¼ì •ì´ë‹¤.</p><p>ìˆ˜ì‹ìœ¼ë¡œ $L_{ce} = \sum_{i} t_{i} * \log(s_{i})$ë¡œ í‘œí˜„í•  ìˆ˜ ìˆìœ¼ë©°, $t_i$ëŠ” teacherì˜ í™•ë¥ ì´ë©° $s_i$ëŠ” studentì˜ í™•ë¥ ì´ë‹¤.</p><h3 id="loss-2--student-masked-language-modeling-loss-mlm-loss"><span class="mr-2">Loss 2 : Student Masked Language Modeling Loss (MLM Loss)</span><a href="#loss-2--student-masked-language-modeling-loss-mlm-loss" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>ì‚¬ì „í•™ìŠµì„ ì§„í–‰í•  student ëª¨ë¸ì— ëŒ€í•´ ì¼ë°˜ì ì¸ BERTì˜ <code class="language-plaintext highlighter-rouge">Masked Language Modeling(MLM) loss</code> $L_{mlm}$ì„ ì ìš©í•œë‹¤. MLM lossì— ëŒ€í•´ì„œëŠ” temperature scalingì„ ì ìš©í•˜ì§€ ì•Šì€ ê¸°ë³¸ì ì¸ softmaxë¥¼ ì´ìš©í•œ, <code class="language-plaintext highlighter-rouge">hard target</code>, <code class="language-plaintext highlighter-rouge">hard prediction</code>ì„ í™œìš©í•œë‹¤. ì´ë¥¼ <code class="language-plaintext highlighter-rouge">student loss</code>ë¼ê³ ë„ ë¶€ë¥¸ë‹¤.</p><h3 id="loss-3--teacher---student-cosine-embedding-loss"><span class="mr-2">Loss 3 : Teacher - Student Cosine Embedding Loss</span><a href="#loss-3--teacher---student-cosine-embedding-loss" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>ì €ìë“¤ì€ student ëª¨ë¸ì´ ë”ìš± teacher ëª¨ë¸ê³¼ ë‹®ì•„ì§ˆ ìˆ˜ ìˆë„ë¡ ì½”ì‚¬ì¸ ìœ ì‚¬ë„ë¥¼ í™œìš©í•˜ê¸°ê¹Œì§€ í–ˆë‹¤. ë‹¨ìˆœíˆ ì…ë ¥ ë²¡í„° $x$ê°€ ì •ë‹µ ë²¡í„° $y$ì™€ ê°™ê²Œ í•™ìŠµí•˜ëŠ” ì§€ë„í•™ìŠµ ë°©ì‹ì„ ë„˜ì–´, teacher ëª¨ë¸ì˜ hidden ë²¡í„°ì™€ student ëª¨ë¸ì˜ hidden ë²¡í„°ê°€ ì¼ì¹˜(align)ë˜ë„ë¡ í•™ìŠµí•˜ëŠ” ê²ƒì´ë‹¤.</p><p>ìˆ˜ì‹ìœ¼ë¡œ $L_{cos} = 1- \cos (T(x), S(x))$ë¡œ í‘œí˜„í•  ìˆ˜ ìˆìœ¼ë©°, $x$ëŠ” ì…ë ¥ ë²¡í„°, $T$ì™€ $S$ëŠ” ê°ê° teacher ëª¨ë¸ ë° student ëª¨ë¸ì„ ì˜ë¯¸í•œë‹¤.</p><p><em>(ìœ„ ê·¸ë¦¼ì— ë”°ë¥´ë©´, teacher ëª¨ë¸ê³¼ student ëª¨ë¸ì˜ ì¶œë ¥ê°’ì¸ $T(x)$ì™€ $S(x)$ë¡œ cosine lossë¥¼ êµ¬í•˜ì§€ ì•Šê³ , ê° ëª¨ë¸ì˜ ë‹¨ì–´ ì„ë² ë”©ì„ ì§ì ‘ í™œìš©í•˜ì—¬ cosine lossë¥¼ êµ¬í•œë‹¤. ë‘ ë°©ì‹ ì¤‘ ì–´ë–¤ ë°©ì‹ì„ í™œìš©í–ˆëŠ”ì§€ì— ëŒ€í•œ êµ¬ì²´ì ì¸ ì„¤ëª…ì´ ë…¼ë¬¸ì— ëª…ì‹œë˜ì–´ ìˆì§€ëŠ” ì•Šì€ ë“¯ í•˜ë‹¤.)</em></p><h3 id="triple-loss--loss-1--loss-2--loss-3"><span class="mr-2">Triple Loss = Loss 1 + Loss 2 + Loss 3</span><a href="#triple-loss--loss-1--loss-2--loss-3" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>ê²°ê³¼ì ìœ¼ë¡œ ìµœì¢…ì ì¸ triple lossëŠ” $L = \alpha * L_{ce} + \beta * L_{MLM} + \gamma * L_{cos}$ì´ë©°, ì´ë•Œ $\alpha + \beta + \gamma = 1$ì´ë‹¤.</p><h1 id="03-distilbertì˜-ë””í…Œì¼">03. DistilBERTì˜ ë””í…Œì¼</h1><hr /><h2 id="03-1-student-modelì˜-êµ¬ì¡°"><span class="mr-2">03-1. Student Modelì˜ êµ¬ì¡°</span><a href="#03-1-student-modelì˜-êµ¬ì¡°" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="next-sentence-predictionnsp-íƒœìŠ¤í¬ë¥¼-ìˆ˜í–‰í•˜ì§€-ì•ŠìŒ"><span class="mr-2">Next Sentence Prediction(NSP) íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í•˜ì§€ ì•ŠìŒ</span><a href="#next-sentence-predictionnsp-íƒœìŠ¤í¬ë¥¼-ìˆ˜í–‰í•˜ì§€-ì•ŠìŒ" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>DistilBERTì˜ student ëª¨ë¸ì€ ê¸°ë³¸ì ìœ¼ë¡œ BERTì™€ ë™ì¼í•˜ë‚˜, ë‹¤ìŒê³¼ ê°™ì€ ì°¨ì´ê°€ ìˆë‹¤.</p><ul><li><code class="language-plaintext highlighter-rouge">token-type embedding</code>ì˜ ì œê±°<ul><li>token-type embeddingì´ë€, transformers ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ <code class="language-plaintext highlighter-rouge">token_type_ids</code>ì— ëŒ€ì‘ë˜ë©°, BERTì—ì„œ <code class="language-plaintext highlighter-rouge">[SEP]</code> í† í°ìœ¼ë¡œ ë‘ ë¬¸ì¥ ê°„ ê´€ê³„ë¥¼ í•™ìŠµí•  ë•Œ ê° ë¬¸ì¥ì„ êµ¬ë¶„í•¨</ul><li><code class="language-plaintext highlighter-rouge">pooler</code>ì˜ ì œê±°<ul><li>poolerë€, BERTì—ì„œ ì–»ì€ contextual embedding ì¤‘ <code class="language-plaintext highlighter-rouge">[CLS]</code> í† í°ì˜ ì„ë² ë”©ì— í•´ë‹¹ë¨</ul></ul><p>ì´ëŸ¬í•œ ì°¨ì´ëŠ” ê¸°ì¡´ BERTê°€ ì‚¬ì „í•™ìŠµ í•  ë•Œ ìˆ˜í–‰í•˜ëŠ” <code class="language-plaintext highlighter-rouge">Next Sentence Prediction(NSP)</code> íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í•˜ì§€ ì•ŠìŒì„ ì˜ë¯¸í•œë‹¤.</p><h3 id="teacher-bertë¥¼-í™œìš©í•œ-ì´ˆê¸°í™”"><span class="mr-2">teacher BERTë¥¼ í™œìš©í•œ ì´ˆê¸°í™”</span><a href="#teacher-bertë¥¼-í™œìš©í•œ-ì´ˆê¸°í™”" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 500 500'%3E%3C/svg%3E" data-src="/assets/img/2023-02-20-DistilBERT/fig05.png" alt="fig05" width="500" height="500" data-proofer-ignore> <em>[ì¶œì²˜] : <a href="https://towardsdatascience.com/distillation-of-bert-like-models-the-theory-32e19a02641f">Distillation of BERT-Like Models: The Theory</a></em></p><p>ë˜í•œ ìœ„ ê·¸ë¦¼ê³¼ ê°™ì´ teacher ëª¨ë¸ì˜ ë ˆì´ì–´ì˜ ì ˆë°˜ë§Œì„ ë³µì‚¬í•˜ì—¬ ì´ˆê¸°í™”í•¨ìœ¼ë¡œì¨ ë ˆì´ì–´ì˜ ìˆ˜ë¥¼ ì ˆë°˜ìœ¼ë¡œ ê°ì†Œì‹œì¼°ë‹¤.</p><h2 id="03-2-ê¸°íƒ€-í•™ìŠµ-ì„¸ë¶€-ì‚¬í•­"><span class="mr-2">03-2. ê¸°íƒ€ í•™ìŠµ ì„¸ë¶€ ì‚¬í•­</span><a href="#03-2-ê¸°íƒ€-í•™ìŠµ-ì„¸ë¶€-ì‚¬í•­" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>DistilBERTëŠ” ì•„ì£¼ í° ë°°ì¹˜ ì‚¬ì´ì¦ˆ(ë°°ì¹˜ë‹¹ 4Kì˜ ë°ì´í„°)ë¥¼ í™œìš©í•˜ì—¬ í•™ìŠµí•˜ì˜€ë‹¤. NSP íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í•˜ì§€ ì•Šì•˜ìœ¼ë©°, RoBERTaì˜ íŠ¸ë¦­ì¸ <code class="language-plaintext highlighter-rouge">dynamic masking</code> ê¸°ë²•ì„ ì‚¬ìš©í•˜ì˜€ë‹¤. dynamic maskingì€ ì…ë ¥ì„ ë§Œë“¤ ë•Œ ë§ˆë‹¤ maskingì„ ë‹¤ì‹œ í•˜ëŠ” ê¸°ë²•ì´ë‹¤.</p><h3 id="ë°ì´í„°ì™€-ì»´í“¨íŠ¸-íŒŒì›Œ"><span class="mr-2">ë°ì´í„°ì™€ ì»´í“¨íŠ¸ íŒŒì›Œ</span><a href="#ë°ì´í„°ì™€-ì»´í“¨íŠ¸-íŒŒì›Œ" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>BERTì™€ ë™ì¼í•œ ë°ì´í„°ì¸ English Wikipediaì™€ Toronto Book Corpusë¥¼ í™œìš©í–ˆë‹¤. <code class="language-plaintext highlighter-rouge">DistilBERT í•™ìŠµì€ 16GB V100 GPU 8ëŒ€ë¡œ 90ì‹œê°„</code>ì´ ì†Œìš”ë˜ì—ˆë‹¤. ì°¸ê³ ë¡œ <code class="language-plaintext highlighter-rouge">RoBERTaì˜ ê²½ìš° 32GB V100 GPU 1024ëŒ€ë¡œ í•˜ë£¨</code>ê°€ ê±¸ë ¸ë‹¤ëŠ” ì ì„ ê³ ë ¤í•˜ë©´ ëŒ€ë‹¨í•œ ìˆ˜ì¹˜ë‹¤.</p><h1 id="04-ê²°ê³¼-ë°-ê²°ë¡ ">04. ê²°ê³¼ ë° ê²°ë¡ </h1><hr /><p><img data-src="/assets/img/2023-02-20-DistilBERT/fig06.png" alt="fig06" data-proofer-ignore></p><p>distilBERTëŠ” distillation ê¸°ë²•ìœ¼ë¡œ ë¹ ë¥´ê²Œ í•™ìŠµí•˜ì˜€ìŒì—ë„ ë¶ˆêµ¬í•˜ê³ , ê¸°ì¡´ BERTì— ë¹„í•´ 40%ë‚˜ ê°€ë²¼ì›Œì¡Œê³  60%ë‚˜ ë¹¨ë¼ì¡Œìœ¼ë©° 97% ì„±ëŠ¥ì„ ìœ ì§€í–ˆë‹¤!</p><h1 id="05-ì°¸ê³ -ë¬¸í—Œ">05. ì°¸ê³  ë¬¸í—Œ</h1><hr /><p>[1] <code class="language-plaintext highlighter-rouge">ì› ë…¼ë¬¸</code> : <a href="https://arxiv.org/pdf/1910.01108.pdf">DistilBERT, a distilled version of BERT: smaller, faster, cheaper and lighter</a><br /> [2] <code class="language-plaintext highlighter-rouge">ë¸”ë¡œê·¸</code> : <a href="https://syncedreview.com/2019/06/27/the-staggering-cost-of-training-sota-ai-models/">The Staggering Cost of Training SOTA AI Models</a><br /> [3] <code class="language-plaintext highlighter-rouge">Harshit Sharmaì˜ í¬ìŠ¤íŠ¸</code> : <a href="https://hackernoon.com/softmax-temperature-and-prediction-diversity">Softmax Temperature and Prediction Diversity</a><br /> [4] <code class="language-plaintext highlighter-rouge">kaggle</code> : <a href="https://www.kaggle.com/code/venkatkumar001/nlpstarter4-distilbert-bert-base-cased">ğŸ“¢NLPStarter4ğŸ“„ğŸ¤—DistilBert,Bert(Base-Cased)ğŸ¤—:)</a><br /> [5] <code class="language-plaintext highlighter-rouge">Alex Nimì˜ í¬ìŠ¤íŠ¸</code> : <a href="https://alexnim.com/coding-projects-knowledge-distillation.html">Knowledge Distillation of Language Models</a><br /> [6] <code class="language-plaintext highlighter-rouge">Remi Ouazan Reboulì˜ í¬ìŠ¤íŠ¸</code> : <a href="https://towardsdatascience.com/distillation-of-bert-like-models-the-theory-32e19a02641f">Distillation of BERT-Like Models: The Theory</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/natural-language-processing/'>Natural Language Processing</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/language-model/" class="post-tag no-text-decoration" >Language Model</a> <a href="/tags/nlp/" class="post-tag no-text-decoration" >NLP</a> <a href="/tags/distillation/" class="post-tag no-text-decoration" >Distillation</a> <a href="/tags/paper-review/" class="post-tag no-text-decoration" >Paper Review</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%28NLP%29+DistilBERT+%EB%A6%AC%EB%B7%B0+%EB%B0%8F+%EC%84%A4%EB%AA%85+-+Simon%27s+Research+Center&url=https%3A%2F%2Fzerojsh00.github.io%2Fposts%2FDistilBERT%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%28NLP%29+DistilBERT+%EB%A6%AC%EB%B7%B0+%EB%B0%8F+%EC%84%A4%EB%AA%85+-+Simon%27s+Research+Center&u=https%3A%2F%2Fzerojsh00.github.io%2Fposts%2FDistilBERT%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fzerojsh00.github.io%2Fposts%2FDistilBERT%2F&text=%28NLP%29+DistilBERT+%EB%A6%AC%EB%B7%B0+%EB%B0%8F+%EC%84%A4%EB%AA%85+-+Simon%27s+Research+Center" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div><script src="https://utteranc.es/client.js" repo="zerojsh00/zerojsh00.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async> </script></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Network-Policy/">(K8S) ë„¤íŠ¸ì›Œí¬ ì •ì±…(Network Policy) ê¸°ì´ˆ ê°œë…</a><li><a href="/posts/CNI-Weave/">(K8S) CNI Weaveì˜ ê¸°ì´ˆ ê°œë…</a><li><a href="/posts/Container-Networking-Interface/">(K8S) ë„¤íŠ¸ì›Œí¬ ê¸°ì´ˆ ì •ë¦¬ - CNI</a><li><a href="/posts/Storage-in-Docker/">(K8S) ë„ì»¤ì˜ ìŠ¤í† ë¦¬ì§€(Storage in Docker)</a><li><a href="/posts/Security-Context/">(K8S) Security Context</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/k8s/">K8S</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/paper-review/">Paper Review</a> <a class="post-tag" href="/tags/security/">Security</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/speech-ai/">Speech AI</a> <a class="post-tag" href="/tags/scheduling/">Scheduling</a> <a class="post-tag" href="/tags/nlp/">NLP</a> <a class="post-tag" href="/tags/storage/">Storage</a> <a class="post-tag" href="/tags/asr/">ASR</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/ELECTRA/"><div class="card-body"> <em class="timeago small" data-ts="1662994800" > 2022-09-13 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>(NLP) ELECTRA ë¦¬ë·° ë° ì„¤ëª…</h3><div class="text-muted small"><p> ì´ í¬ìŠ¤íŠ¸ëŠ” ê°œì¸ì ìœ¼ë¡œ ê³µë¶€í•œ ë‚´ìš©ì„ ì •ë¦¬í•˜ê³  í•„ìš”í•œ ë¶„ë“¤ì—ê²Œ ì§€ì‹ì„ ê³µìœ í•˜ê¸° ìœ„í•´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì§€ì í•˜ì‹¤ ë‚´ìš©ì´ ìˆë‹¤ë©´, ì–¸ì œë“  ëŒ“ê¸€ ë˜ëŠ” ë©”ì¼ë¡œ ì•Œë ¤ì£¼ì‹œê¸°ë¥¼ ë°”ëë‹ˆë‹¤. 01. ê°œìš” ICLR 2020ì—ì„œ Google Brain íŒ€ì€ ìƒˆë¡œìš´ ì‚¬ì „ í•™ìŠµ ë°©ë²•ë¡ ìœ¼ë¡œ ELECTRAë¥¼ ì œì•ˆí–ˆë‹¤. ELECTRAëŠ” â€œEfficiently Learning...</p></div></div></a></div><div class="card"> <a href="/posts/BERTopic/"><div class="card-body"> <em class="timeago small" data-ts="1663686000" > 2022-09-21 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>(NLP) BERTopic ê°œë… ì •ë¦¬</h3><div class="text-muted small"><p> ì´ í¬ìŠ¤íŠ¸ëŠ” ê°œì¸ì ìœ¼ë¡œ ê³µë¶€í•œ ë‚´ìš©ì„ ì •ë¦¬í•˜ê³  í•„ìš”í•œ ë¶„ë“¤ì—ê²Œ ì§€ì‹ì„ ê³µìœ í•˜ê¸° ìœ„í•´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì§€ì í•˜ì‹¤ ë‚´ìš©ì´ ìˆë‹¤ë©´, ì–¸ì œë“  ëŒ“ê¸€ ë˜ëŠ” ë©”ì¼ë¡œ ì•Œë ¤ì£¼ì‹œê¸°ë¥¼ ë°”ëë‹ˆë‹¤. 01. Introduction ì „í†µì ì¸ í† í”½ ëª¨ë¸ë§ì˜ ë°©ë²•ìœ¼ë¡œëŠ” Latent Dirichlet Allocation(LDA)ì™€ Non-Negative Matrix Factor...</p></div></div></a></div><div class="card"> <a href="/posts/RoBERTa/"><div class="card-body"> <em class="timeago small" data-ts="1662476400" > 2022-09-07 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>(NLP) RoBERTa ë¦¬ë·° ë° ì„¤ëª…</h3><div class="text-muted small"><p> ì´ í¬ìŠ¤íŠ¸ëŠ” ê°œì¸ì ìœ¼ë¡œ ê³µë¶€í•œ ë‚´ìš©ì„ ì •ë¦¬í•˜ê³  í•„ìš”í•œ ë¶„ë“¤ì—ê²Œ ì§€ì‹ì„ ê³µìœ í•˜ê¸° ìœ„í•´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì§€ì í•˜ì‹¤ ë‚´ìš©ì´ ìˆë‹¤ë©´, ì–¸ì œë“  ëŒ“ê¸€ ë˜ëŠ” ë©”ì¼ë¡œ ì•Œë ¤ì£¼ì‹œê¸°ë¥¼ ë°”ëë‹ˆë‹¤. 01. ìš”ì•½ RoBERTaëŠ” Robustly Optimized BERT approachì˜ ì•½ìì´ë‹¤. ELMo, GPT, BERT, XLM, XLNet ë“± self-traini...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/StarSpace/" class="btn btn-outline-primary" prompt="Older"><p>(NLP) StarSpace</p></a><div class="btn btn-outline-primary disabled" prompt="Newer"><p>-</p></div></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> Â© 2023 <a href="https://github.com/zerojsh00">Sanghyeon</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/k8s/">K8S</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/paper-review/">Paper Review</a> <a class="post-tag" href="/tags/security/">Security</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/speech-ai/">Speech AI</a> <a class="post-tag" href="/tags/scheduling/">Scheduling</a> <a class="post-tag" href="/tags/nlp/">NLP</a> <a class="post-tag" href="/tags/storage/">Storage</a> <a class="post-tag" href="/tags/asr/">ASR</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
